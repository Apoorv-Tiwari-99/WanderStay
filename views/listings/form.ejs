<% layout("/layouts/boilerplate") %>
<body>
    <div class="row mt-3">
        <div class="col-8 offset-2">
    <h3>List your property :</h3>
    <form method="POST" action="/listings" novalidate class="needs-validation" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="title" class="form-label">Title:</label>
            <input type="text" name="listing[title]" placeholder="enter your place name " class="form-control" required>
            <div class="valid-feedback">Looks good! </div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <textarea name="listing[description]"  placeholder="enter description" class="form-control" required></textarea>
            <div class="invalid-feedback">description should be short </div>

        </div>
        <div class="mb-3">
            <label for="image" class="form-label">Upload Image</label>
            <input type="file" name="listing[image]" class="form-control" required>
            <div class="invalid-feedback">Upload image </div>
        </div>
        <div class="mb-3">
            <p>Category:</p>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" style="width: 150px; background-color:#fe424d; ">
                 Choose
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="max-height: 200px; overflow-y: auto;">
                    <li><a class="dropdown-item" href="#" data-value="Trending">Trending</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Rooms">Rooms</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Iconic Cities">Iconic Cities</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Mountain">Mountain</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Castles">Castles</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Amazing Pools">Amazing Pools</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Camping">Camping</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Farms">Farms</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Arctic">Arctic</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Boats">Boats</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Skiing">Skiing</a></li>
                </ul>
                <input type="hidden" name="listing[category]" id="selectedOptionInput">
            </div>
        </div> 
        <div class="row">
            <div class=" mb-3 col-md-4">
                <label for="price" class="form-label">Price:</label>
                <input type="text" name="listing[price]" placeholder="2000" class="form-control" required>
                <div class="invalid-feedback">enter valid price</div>
            </div>
            <div class="mb-3 col-md-8">
                <label for="country" class="form-label">Country:</label>
                <input type="text" name="listing[country]" placeholder="India" class="form-control" required>
                <div class="invalid-feedback">enter valid country </div>
            </div> 
        </div>

        <div class="mb-3">
            <label for="location" class="form-label">Location:</label>
            <input type="text" name="listing[location]" placeholder="Indore,M.P" class="form-control"required>
            <div class="invalid-feedback">enter valid location</div>
        </div> 
        <button class="btn btn-dark add-btn">Add</button>
        <br><br>
    </form>
</div>
</div>
<script>
    document.querySelectorAll('.dropdown-item').forEach(item => {
        item.addEventListener('click', function (e) {
            e.preventDefault();
            const selectedValue = this.getAttribute('data-value');
            document.getElementById('dropdownMenuButton').textContent = selectedValue;
            document.getElementById('selectedOptionInput').value = selectedValue;
        });
    });
</script>
</body>